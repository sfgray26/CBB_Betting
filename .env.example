# Database
DATABASE_URL=postgresql://user:password@localhost:5432/cbb_edge

# API Keys (REQUIRED)
THE_ODDS_API_KEY=your_odds_api_key_here
KENPOM_API_KEY=your_kenpom_api_key_here

# Authentication (generate random 32+ char strings)
API_KEY_USER1=change_this_to_random_secure_string_min_32_chars
API_KEY_USER2=optional_second_user_key

# Optional: Paid tier access
BARTTORVIK_USERNAME=
BARTTORVIK_PASSWORD=
EVANMIYA_API_KEY=

# Optional: SMS Alerts (Twilio)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FROM_NUMBER=
TWILIO_TO_NUMBER=

# Optional: Email Alerts (SendGrid)
SENDGRID_API_KEY=
ALERT_EMAIL=your@email.com

# App Configuration
ENVIRONMENT=development
LOG_LEVEL=INFO
NIGHTLY_CRON_HOUR=3
NIGHTLY_CRON_TIMEZONE=America/New_York

# Model Parameters (adjust after validation)
BASE_SD=11.0
WEIGHT_KENPOM=0.342
WEIGHT_BARTTORVIK=0.333
WEIGHT_EVANMIYA=0.325
HOME_ADVANTAGE=3.09

# Betting Parameters
MAX_KELLY_FRACTION=0.20
FRACTIONAL_KELLY_DIVISOR=2
MAX_BANKROLL_PCT_PER_BET=1.5
STARTING_BANKROLL=1000

# Portfolio daily exposure cap — total paper-trade dollars as % of bankroll.
# Prevents independent Kelly bets from stacking into runaway exposure on
# busy college basketball slates (e.g. Saturday with 60+ games).
MAX_DAILY_EXPOSURE_PCT=5.0

# Ratings
SEASON_YEAR=2026
# Override data source URLs if sites restructure (optional)
# BARTTORVIK_URL=https://barttorvik.com/2026_team_results.csv
# EVANMIYA_URL=https://evanmiya.com/

# Recalibration — sd_multiplier is persisted to model_parameters table;
# env vars below are the initial/fallback values only.
SD_MULTIPLIER=0.85

# Safety Limits
MAX_DRAWDOWN_PCT=15.0
CLV_PAUSE_THRESHOLD=-0.005
CALIBRATION_ERROR_THRESHOLD=0.07
MIN_BETS_FOR_RECALIBRATION=30
